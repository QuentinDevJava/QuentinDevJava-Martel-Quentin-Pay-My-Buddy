
<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8" />
		<title>Transférer</title>
		<link rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
			integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
			crossorigin="anonymous">
		<link rel="stylesheet" href="../css/transaction.css">
	</head>
	<body>
		<header class="mt-5 mb-5">
			<nav class="navbar  navbar-expand-lg navbar-light">
				<a class="navbar-brand" href="#">Pay My Buddy</a>
				<button class="navbar-toggler" type="button" data-toggle="collapse"
					data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup"
					aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
					<div class="navbar-nav">
						<a class="nav-item nav-link active" id="pageActive" th:href="@{'/transaction/' + ${userId}}">Transférer <span
								class="sr-only">(current)</span></a>
						<a class="nav-item nav-link"  th:href="@{'/user/profile/' + ${userId}}">Profil</a>
						<a class="nav-item nav-link" th:href="@{'/user/connexion/' + ${userId}}">Ajouter relation</a>
						<a class="nav-item nav-link" href="/user/login">Se déconnecter</a>
					</div>
				</div>
			</nav>
		</header>

		<main>
			<form method="post" th:object="${transactionDTO}" class="form-inline">
				<div class="form-group relation">
					<select class="form-control" id="relation" th:field="${transactionDTO.receiverId}">
						<option value="0" th:text="'Sélectionner une relation'" selected disabled></option>
						<option th:each="u : ${userset}"
							th:value="${u.id}"
							th:text="${u.email}"></option>
					</select>
				</div>

				<div class="form-group description">
					<input type="text" class="form-control" id="description" placeholder="Description"
						th:field="${transactionDTO.description}">
				</div>

				<div class="input-group">
					<input value="0" type="number" class="form-control" id="montant" min="0" step="10"
						th:field="${transactionDTO.amount}"/>
					</div>
				</div>
				<button type="submit" class="btn btn-primary btn-block mt-3">Payer</button>
			</form>
			<form method="get" th:object="${listTransactionDTO}">
				<div class="listOfTransaction border">
					<h4 class="mt-3 font-weight-bold text-left" style="padding-left: 10px;">Mes
						Transactions</h4>
					<table class="table">
						<thead>
							<tr>
								<th style="text-align: left;">Relations</th>
								<th style="text-align: center;">Description</th>
								<th style="text-align: right;">Montant</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="t : ${listTransactionDTO}">
								<td style="text-align: left;" th:text="${t.receiverUsername}"></td>
								<td  style="text-align: center;" th:text="${t.description}"></td>
								<td style="text-align: right;" th:text="${t.amount}"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</form>
		</main>

		<footer></footer>
	</body>
</html>