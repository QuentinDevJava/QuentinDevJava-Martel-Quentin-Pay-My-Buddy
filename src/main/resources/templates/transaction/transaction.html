<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
	<div
		th:replace="~{head :: myHead(currentTitle='Transférer', currentURL='../css/transaction.css')}"></div>
	<body>
		<div th:replace="~{header :: myHeader(currentPage='transaction')}"></div>
		<main>
			<div class="alert alert-danger text-center alert-dismissible"
				th:if="${#fields.hasErrors('transactionFrom.*')}">
				<p th:each="err : ${#fields.errors('transactionFrom.*')}" th:text="${err}">
				</p>
				<span type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</span>
			</div>

			<div th:if="${emailError}" class="alert alert-danger text-center alert-dismissible">
				<span th:text="${emailError}"></span>
				<span type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</span>
			</div>
			<div th:if="${amountError}" class="alert alert-danger text-center alert-dismissible">
				<span th:text="${amountError}"></span>
				<span type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</span>
			</div>
			<div th:if="${successMessage}" class="alert alert-success  alert-dismissible">
				<span th:text="${successMessage}"></span>
				<span type="button" class="close" data-dismiss="alert" aria-label="Close">&times;</span>
			</div>

			<form method="post" th:object="${transactionFrom}" class="form-inline">
				<div class="form-group relation">
					<select title="Selectionnez une relation" class="form-control" id="relation"
						th:field="*{receiverId}">
						<option value="0" th:text="'Sélectionner une relation'" selected disabled></option>
						<option th:each="u : ${userset}"
							th:value="${u.id}"
							th:text="${u.email}"></option>
					</select>
				</div>
				<div class="form-group description">
					<input title="Entrez la description de la transaction" type="text" class="form-control"
						id="description" placeholder="Description"
						th:field="*{description}">
				</div>
				<div class="input-group ">
					<input title="Entrez le montant" value="0" type="number" class="form-control" id="montant"
						min="0" step="1" th:field="*{amount}" />
				</div>
				<button type="submit" title="Cliquer pour payer"
					class="btn btn-primary btn-block mt-3">Payer</button>
			</form>
			<form method="get">
				<div class="listOfTransaction border">
					<h4 title="Transactions" class="mt-3 font-weight-bold text-left"
						style="padding-left: 10px;">Mes Transactions</h4>
					<table class="table">
						<thead>
							<tr>
								<th title="Relations" style="text-align: left;">Relations</th>
								<th title="Description" style="text-align: center;">Description</th>
								<th title="Montant" style="text-align: right;">Montant</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="t : ${ListoftransactionFrom}">
								<td style="text-align: left;" th:text="${t.receiverUsername}"></td>
								<td style="text-align: center;" th:text="${t.description}"></td>
								<td style="text-align: right;" th:text="${t.amount}"><span>jnefknfgk</span></td>
							</tr>
						</tbody>
					</table>
				</div>
			</form>
		</main>
		<div th:replace="~{footer :: myFooter}"></div>
	</body>
</html>